<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ß‡∏á‡∏•‡πâ‡∏≠‡∏™‡∏∏‡πà‡∏°‡∏â‡∏±‡∏ô‡∏ó‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡πÑ‡∏ó‡∏¢</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Sarabun', sans-serif;
        }

        .wheel-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
        }

        #wheelCanvas {
            cursor: pointer;
            filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.2));
            transition: filter 0.3s ease;
            display: block;
            margin: 0 auto;
        }

        #wheelCanvas.spinning {
            filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.2)) blur(0.5px);
        }

        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }

        .result-popup {
            animation: popIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes popIn {
            0% {
                opacity: 0;
                transform: scale(0) rotate(-180deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #fbbf24;
            position: absolute;
            animation: confetti-fall 3s ease-out forwards;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .winner-glow {
            animation: glow 1s ease-in-out 3;
        }

        @keyframes glow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
            }
            50% {
                box-shadow: 0 0 40px rgba(251, 191, 36, 1), 0 0 60px rgba(251, 191, 36, 0.7);
            }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .mobile-hide {
                display: none !important;
            }

            #wheelCanvas {
                width: 90vw !important;
                height: 90vw !important;
                max-width: 400px !important;
                max-height: 400px !important;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-sky-100 via-blue-50 to-cyan-100 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-sky-700 mb-4 floating">
                üé° ‡∏ß‡∏á‡∏•‡πâ‡∏≠‡∏™‡∏∏‡πà‡∏°‡∏â‡∏±‡∏ô‡∏ó‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡πÑ‡∏ó‡∏¢ üé≠
            </h1>
            <p class="text-sky-600 text-base md:text-lg">‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏â‡∏±‡∏ô‡∏ó‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå!</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            <!-- Left Side - Options List (Hidden on Mobile) -->
            <div class="lg:col-span-4 mobile-hide">
                <div class="bg-white rounded-3xl shadow-xl p-6 border-4 border-sky-200">
                    <h2 class="text-2xl font-bold text-sky-700 mb-4 text-center">üìã ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
                    <div class="space-y-3" id="optionsList">
                        <!-- Options will be generated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Center/Right - Wheel and Controls -->
            <div class="lg:col-span-8 w-full">
                <div class="bg-white rounded-3xl shadow-2xl p-4 md:p-8 border-4 border-sky-200" id="wheelContainer">
                    <!-- Wheel Container -->
                    <div class="relative w-full flex justify-center items-center mb-6 md:mb-8">
                        <div class="relative inline-block">
                            <!-- Arrow Pointer -->
                            <div class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-full mb-2 z-20">
                                <div class="w-0 h-0 border-l-[20px] md:border-l-[30px] border-l-transparent border-r-[20px] md:border-r-[30px] border-r-transparent border-t-[35px] md:border-t-[50px] border-t-yellow-400" style="filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3));"></div>
                            </div>

                            <!-- Canvas Wheel -->
                            <canvas id="wheelCanvas" width="600" height="600"></canvas>
                        </div>
                    </div>

                    <!-- Spin Button -->
                    <div class="text-center mb-4 md:mb-6">
                        <button id="spinBtn" class="bg-gradient-to-r from-sky-500 to-cyan-500 hover:from-sky-600 hover:to-cyan-600 text-white font-bold text-xl md:text-2xl py-4 md:py-6 px-12 md:px-16 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100">
                            üé° ‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠! üé°
                        </button>
                    </div>

                    <!-- Result Area -->
                    <div id="resultArea" class="hidden">
                        <div class="result-popup bg-gradient-to-br from-yellow-50 to-amber-100 border-4 border-yellow-300 rounded-3xl p-6 md:p-8 text-center">
                            <p class="text-gray-600 text-base md:text-lg mb-2">üéâ ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏° üéâ</p>
                            <h2 id="resultText" class="text-3xl md:text-4xl font-bold text-amber-700 mb-3 md:mb-4"></h2>
                            <p id="resultDesc" class="text-base md:text-lg text-amber-600"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center text-sky-600 mt-8">
            <p class="text-xs md:text-sm">‚ú® ‡∏ß‡∏á‡∏•‡πâ‡∏≠‡∏™‡∏∏‡πà‡∏°‡∏â‡∏±‡∏ô‡∏ó‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡πÑ‡∏ó‡∏¢ - ‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö! ‚ú®</p>
        </div>
    </div>

    <script>
        const options = [
            {
                name: "‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢ 11",
                emoji: "1Ô∏è‚É£",
                desc: "‡∏â‡∏±‡∏ô‡∏ó‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ß‡∏£‡∏£‡∏Ñ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏±‡∏Å‡∏©‡∏£ 11 ‡∏ï‡∏±‡∏ß",
                color: "#EF4444"
            },
            {
                name: "‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢ 8",
                emoji: "2Ô∏è‚É£",
                desc: "‡∏â‡∏±‡∏ô‡∏ó‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ß‡∏£‡∏£‡∏Ñ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏±‡∏Å‡∏©‡∏£ 8 ‡∏ï‡∏±‡∏ß",
                color: "#3B82F6"
            },
            {
                name: "‡∏ö‡∏ó‡∏ô‡∏°‡∏±‡∏™‡∏Å‡∏≤‡∏£",
                emoji: "üôè",
                desc: "‡∏â‡∏±‡∏ô‡∏ó‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏ô‡∏¥‡∏¢‡∏°‡πÉ‡∏ä‡πâ‡πÅ‡∏ï‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏ó‡∏ô‡∏°‡∏±‡∏™‡∏Å‡∏≤‡∏£",
                color: "#10B981"
            },
            {
                name: "‡∏•‡∏µ‡∏•‡∏≤‡∏û‡∏ç‡∏≤‡∏ô‡∏≤‡∏Ñ",
                emoji: "üêâ",
                desc: "‡∏•‡∏µ‡∏•‡∏≤‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡πâ‡∏≠‡∏¢‡∏Ç‡∏≠‡∏á‡∏û‡∏ç‡∏≤‡∏ô‡∏≤‡∏Ñ‡∏ó‡∏µ‡πà‡∏™‡∏á‡πà‡∏≤‡∏á‡∏≤‡∏°",
                color: "#F59E0B"
            },
            {
                name: "‡∏ß‡∏™‡∏±‡∏ô‡∏ï‡∏î‡∏¥‡∏•‡∏Å‡∏â‡∏±‡∏ô‡∏ó‡πå 14",
                emoji: "üå∏",
                desc: "‡∏â‡∏±‡∏ô‡∏ó‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏à‡∏≥‡∏ô‡∏ß‡∏ô 14 ‡∏Ñ‡∏≥ ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ö‡∏ó",
                color: "#8B5CF6"
            },
            {
                name: "‡∏°‡∏≤‡∏•‡∏¥‡∏ô‡∏µ‡∏â‡∏±‡∏ô‡∏ó‡πå 15",
                emoji: "üå∫",
                desc: "‡∏â‡∏±‡∏ô‡∏ó‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏à‡∏≥‡∏ô‡∏ß‡∏ô 15 ‡∏Ñ‡∏≥ ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ö‡∏ó",
                color: "#EC4899"
            },
            {
                name: "‡∏≠‡∏µ‡∏ó‡∏¥‡∏™‡∏±‡∏á‡∏â‡∏±‡∏ô‡∏ó‡πå 20",
                emoji: "üéã",
                desc: "‡∏â‡∏±‡∏ô‡∏ó‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏à‡∏≥‡∏ô‡∏ß‡∏ô 20 ‡∏Ñ‡∏≥ ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ö‡∏ó",
                color: "#14B8A6"
            },
            {
                name: "‡∏•‡∏µ‡∏•‡∏≤‡∏™‡∏¥‡∏á‡πÇ‡∏ï",
                emoji: "ü¶Å",
                desc: "‡∏•‡∏µ‡∏•‡∏≤‡∏á‡∏î‡∏á‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏™‡∏¥‡∏á‡πÇ‡∏ï‡∏ó‡∏µ‡πà‡∏ó‡∏£‡∏á‡∏û‡∏•‡∏±‡∏á",
                color: "#F97316"
            }
        ];

        const canvas = document.getElementById('wheelCanvas');
        const ctx = canvas.getContext('2d');
        const spinBtn = document.getElementById('spinBtn');
        const resultArea = document.getElementById('resultArea');
        const resultText = document.getElementById('resultText');
        const resultDesc = document.getElementById('resultDesc');
        const optionsList = document.getElementById('optionsList');
        const wheelContainer = document.getElementById('wheelContainer');

        let isSpinning = false;
        let currentAngle = 0;
        let spinStartTime = null;
        const spinDuration = 5000 + Math.random() * 2000;

        const arc = (2 * Math.PI) / options.length;

        function adjustCanvasSize() {
            const isMobile = window.innerWidth < 768;
            if (isMobile) {
                const size = Math.min(window.innerWidth * 0.9, 400);
                canvas.width = size;
                canvas.height = size;
                canvas.style.width = size + 'px';
                canvas.style.height = size + 'px';
            } else {
                canvas.width = 600;
                canvas.height = 600;
                canvas.style.width = '600px';
                canvas.style.height = '600px';
            }
            drawWheel();
        }

        function generateOptionsList() {
            options.forEach((option) => {
                const div = document.createElement('div');
                div.className = 'flex items-center space-x-3 p-3 rounded-lg transition-all hover:scale-105';
                div.style.backgroundColor = option.color + '20';
                div.innerHTML = `
                    <span class="text-2xl">${option.emoji}</span>
                    <span class="text-sm font-semibold" style="color: ${option.color}">${option.name}</span>
                `;
                optionsList.appendChild(div);
            });
        }

        function drawWheel() {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = Math.min(centerX, centerY) - (canvas.width < 400 ? 10 : 20);

            ctx.imageSmoothingEnabled = true;
            ctx.imageSmoothingQuality = 'high';

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const isMobile = canvas.width < 400;
            const fontSize = isMobile ? Math.floor(canvas.width / 22) : 20;
            const centerCircleRadius = isMobile ? 40 : 60;
            const borderWidth = isMobile ? 3 : 5;

            // Draw wheel segments
            for (let i = 0; i < options.length; i++) {
                const angle = currentAngle + i * arc;

                ctx.beginPath();
                ctx.fillStyle = options[i].color;
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, angle, angle + arc);
                ctx.lineTo(centerX, centerY);
                ctx.fill();

                ctx.strokeStyle = '#ffffff';
                ctx.lineWidth = borderWidth;
                ctx.stroke();

                ctx.save();
                ctx.translate(centerX, centerY);
                ctx.rotate(angle + arc / 2);

                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillStyle = '#ffffff';

                ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';
                ctx.shadowBlur = isMobile ? 3 : 5;
                ctx.shadowOffsetX = isMobile ? 1 : 2;
                ctx.shadowOffsetY = isMobile ? 1 : 2;

                ctx.font = `bold ${fontSize}px Sarabun`;
                ctx.fillText(options[i].name, radius * 0.65, 0);

                ctx.restore();
            }

            const gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, centerCircleRadius);
            gradient.addColorStop(0, '#0ea5e9');
            gradient.addColorStop(1, '#0284c7');

            ctx.shadowColor = 'transparent';
            ctx.shadowBlur = 0;

            ctx.beginPath();
            ctx.fillStyle = gradient;
            ctx.arc(centerX, centerY, centerCircleRadius, 0, 2 * Math.PI);
            ctx.fill();
            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = isMobile ? 4 : 6;
            ctx.stroke();

            const centerEmojiSize = isMobile ? 30 : 40;
            ctx.font = `bold ${centerEmojiSize}px Sarabun`;
            ctx.fillStyle = '#ffffff';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('üéØ', centerX, centerY);
        }

        function animate(currentTime) {
            if (!isSpinning) return;

            if (spinStartTime === null) {
                spinStartTime = currentTime;
            }

            const elapsed = currentTime - spinStartTime;
            const progress = Math.min(elapsed / spinDuration, 1);
            const easeProgress = 1 - Math.pow(1 - progress, 3);

            if (progress >= 1) {
                stopSpin();
                return;
            }

            const speed = 0.3 * (1 - easeProgress);
            currentAngle += speed;

            drawWheel();
            requestAnimationFrame(animate);
        }

        function createConfetti() {
            const colors = ['#fbbf24', '#f59e0b', '#ef4444', '#ec4899', '#8b5cf6', '#3b82f6', '#10b981', '#14b8a6'];
            const confettiCount = 50;

            for (let i = 0; i < confettiCount; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * window.innerWidth + 'px';
                    confetti.style.top = '0px';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                    confetti.style.animationDelay = Math.random() * 0.3 + 's';
                    document.body.appendChild(confetti);

                    setTimeout(() => confetti.remove(), 3000);
                }, i * 30);
            }
        }

        function stopSpin() {
            isSpinning = false;
            canvas.classList.remove('spinning');
            spinStartTime = null;

            // ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á - ‡∏•‡∏π‡∏Å‡∏®‡∏£‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏ö‡∏ô (270 degrees ‡∏´‡∏£‡∏∑‡∏≠ 3œÄ/2)
            // Canvas ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà 0 degrees = ‡∏Ç‡∏ß‡∏≤, 90 = ‡∏•‡πà‡∏≤‡∏á, 180 = ‡∏ã‡πâ‡∏≤‡∏¢, 270 = ‡∏ö‡∏ô
            const topAngle = (3 * Math.PI / 2); // 270 degrees = ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô

            // Normalize current angle to 0-2œÄ
            let normalizedAngle = currentAngle % (2 * Math.PI);
            if (normalizedAngle < 0) normalizedAngle += 2 * Math.PI;

            // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ß‡πà‡∏≤‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏´‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ö‡∏ô (‡∏•‡∏π‡∏Å‡∏®‡∏£)
            // ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å segment[0] ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà angle 0 ‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏î‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏ó‡∏ß‡∏ô‡πÄ‡∏Ç‡πá‡∏°
            // ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤‡∏ß‡πà‡∏≤ segment ‡πÑ‡∏´‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ center ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ö‡∏ô
            const angleAtTop = (topAngle - normalizedAngle + 2 * Math.PI) % (2 * Math.PI);
            const selectedIndex = Math.floor(angleAtTop / arc) % options.length;

            const selected = options[selectedIndex];

            createConfetti();

            wheelContainer.classList.add('winner-glow');
            setTimeout(() => {
                wheelContainer.classList.remove('winner-glow');
            }, 3000);

            setTimeout(() => {
                resultText.textContent = selected.emoji + ' ' + selected.name;
                resultDesc.textContent = selected.desc;
                resultArea.classList.remove('hidden');

                spinBtn.disabled = false;
                spinBtn.textContent = 'üé° ‡∏´‡∏°‡∏∏‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á! üé°';
            }, 500);
        }

        function spin() {
            if (isSpinning) return;

            isSpinning = true;
            spinBtn.disabled = true;
            resultArea.classList.add('hidden');
            canvas.classList.add('spinning');
            spinStartTime = null;

            requestAnimationFrame(animate);
        }

        generateOptionsList();
        adjustCanvasSize();
        spinBtn.addEventListener('click', spin);

        window.addEventListener('resize', () => {
            adjustCanvasSize();
        });
    </script>
</body>
</html>